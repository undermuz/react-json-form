(self.webpackChunk_undermuz_react_json_form=self.webpackChunk_undermuz_react_json_form||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories/JsonForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JsonForm_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),react=__webpack_require__("./node_modules/react/index.js"),react_error_boundary_umd=__webpack_require__("./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ErrorFallback(_ref){var error=_ref.error,resetErrorBoundary=_ref.resetErrorBoundary;return(0,jsx_runtime.jsxs)("div",{role:"alert",children:[(0,jsx_runtime.jsx)("p",{children:"Something went wrong:"}),(0,jsx_runtime.jsx)("pre",{children:error.message}),(0,jsx_runtime.jsx)("button",{onClick:resetErrorBoundary,children:"Try again"})]})}ErrorFallback.displayName="ErrorFallback";const components_ErrorFallback=ErrorFallback;try{ErrorFallback.displayName="ErrorFallback",ErrorFallback.__docgenInfo={description:"",displayName:"ErrorFallback",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorFallback.tsx#ErrorFallback"]={docgenInfo:ErrorFallback.__docgenInfo,name:"ErrorFallback",path:"src/components/ErrorFallback.tsx#ErrorFallback"})}catch(__react_docgen_typescript_loader_error){}var EnumSchemeItemType;__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");!function(EnumSchemeItemType){EnumSchemeItemType.Text="text",EnumSchemeItemType.TextBlock="text-block",EnumSchemeItemType.TextEditor="text-editor",EnumSchemeItemType.Checkbox="checkbox",EnumSchemeItemType.Files="files",EnumSchemeItemType.Widget="widget",EnumSchemeItemType.Select="select",EnumSchemeItemType.GeoCoordinates="geo",EnumSchemeItemType.Date="date"}(EnumSchemeItemType||(EnumSchemeItemType={}));var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),useDefSchemeValue=(__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),function useDefSchemeValue(scheme){return(0,react.useMemo)((function(){return function getDefValueForScheme(scheme){return scheme.reduce((function(new_value,current){var _Object$assign;return Object.assign({},new_value,((_Object$assign={})[current.name]=current.def_value,_Object$assign))}),{})}(scheme)}),[scheme])}),Button=(__webpack_require__("./node_modules/react-datepicker/dist/react-datepicker.css"),__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js")),GeoSelect=function GeoSelect(props){var value=props.value,onChange=props.onChange,onTest=props.onTest,_props$value2=props.value,_props$value2$address=_props$value2.address,address=void 0===_props$value2$address?"":_props$value2$address,_props$value2$lat=_props$value2.lat,lat=void 0===_props$value2$lat?0:_props$value2$lat,_props$value2$lng=_props$value2.lng,lng=void 0===_props$value2$lng?0:_props$value2$lng;return(0,jsx_runtime.jsxs)("div",{className:"geo-select-inline",children:[(0,jsx_runtime.jsx)("input",{placeholder:"Адрес",name:"address",type:"text",value:address,className:"form-control",onChange:function handleChangeAddress(e){var _value$lat=value.lat,lat=void 0===_value$lat?0:_value$lat,_value$lng=value.lng,lng=void 0===_value$lng?0:_value$lng;onChange({address:e.currentTarget.value,lat,lng})},onBlur:function handleTestAddress(e){var _props$value=props.value,_props$value$lat=_props$value.lat,lat=void 0===_props$value$lat?0:_props$value$lat,_props$value$lng=_props$value.lng,lng=void 0===_props$value$lng?0:_props$value$lng;onTest({address:e.currentTarget.value,lat,lng})}}),(0,jsx_runtime.jsx)("input",{name:"lat",type:"text",value:lat,className:"form-control",onChange:function handleChangeLat(e){var _value$address=value.address,address=void 0===_value$address?"":_value$address,_value$lng2=value.lng,lng=void 0===_value$lng2?0:_value$lng2;onChange({address,lat:e.currentTarget.value,lng})},onBlur:function handleTestLat(e){var _value$address3=value.address,address=void 0===_value$address3?"":_value$address3,_value$lng3=value.lng,lng=void 0===_value$lng3?0:_value$lng3;onTest({address,lat:e.currentTarget.value,lng})}}),(0,jsx_runtime.jsx)("input",{name:"lng",type:"text",value:lng,className:"form-control",onChange:function handleChangeLng(e){var _value$lat2=value.lat,lat=void 0===_value$lat2?0:_value$lat2,_value$address2=value.address;onChange({address:void 0===_value$address2?"":_value$address2,lat,lng:e.currentTarget.value})},onBlur:function handleTestLng(e){var _value$lat3=value.lat,lat=void 0===_value$lat3?0:_value$lat3,_value$address4=value.address;onTest({address:void 0===_value$address4?"":_value$address4,lat,lng:e.currentTarget.value})}}),(0,jsx_runtime.jsx)(Button.z,{onClick:function handleSelectOnMap(){},children:"Выбрать на карте"})]})};GeoSelect.displayName="GeoSelect";const Inputs_GeoSelect=GeoSelect;try{GeoSelect.displayName="GeoSelect",GeoSelect.__docgenInfo={description:"",displayName:"GeoSelect",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IGeoSelectValue"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}},onTest:{defaultValue:null,description:"",name:"onTest",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Inputs/GeoSelect.tsx#GeoSelect"]={docgenInfo:GeoSelect.__docgenInfo,name:"GeoSelect",path:"src/Inputs/GeoSelect.tsx#GeoSelect"})}catch(__react_docgen_typescript_loader_error){}var UiContext=(0,react.createContext)(null),useJsonFormUi=function useJsonFormUi(){var Ui=(0,react.useContext)(UiContext);if(!Ui)throw new Error("JsonForm must be wrapped by UiContext.Provider with selected UI");return Ui};const src_UiContext=UiContext;const src_input=function Input(props){var name=props.name,value=props.value,type=props.type,title=props.title,_props$settings=props.settings,settings=void 0===_props$settings?{}:_props$settings,onChange=props.onChange,onTest=props.onTest,Ui=useJsonFormUi();try{if("geo"==type)return(0,jsx_runtime.jsx)(Inputs_GeoSelect,{name,value,onChange,onTest});if(type==EnumSchemeItemType.Files)return null;if(type==EnumSchemeItemType.Widget){var _settings=settings;return(0,jsx_runtime.jsx)(src_JsonForm,Object.assign({value,title,primary:!1},_settings,{onChange}))}return type==EnumSchemeItemType.Select?(0,jsx_runtime.jsx)(Ui.Controls.Select,Object.assign({},props)):type===EnumSchemeItemType.Date?(0,jsx_runtime.jsx)(Ui.Controls.Date,Object.assign({},props)):type===EnumSchemeItemType.Checkbox?(0,jsx_runtime.jsx)(Ui.Controls.CheckBox,Object.assign({},props)):type==EnumSchemeItemType.TextBlock?(0,jsx_runtime.jsx)(Ui.Controls.TextBlock,Object.assign({},props)):(0,jsx_runtime.jsx)(Ui.Controls.Input,Object.assign({},props))}catch(e){return console.error("Error <Input {..."+JSON.stringify(props)+" }>:"),console.error(e),(0,jsx_runtime.jsx)("div",{className:"alert alert-danger",children:e.message})}};try{input.displayName="input",input.__docgenInfo={description:"",displayName:"input",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"text"'},{value:'"text-block"'},{value:'"text-editor"'},{value:'"checkbox"'},{value:'"files"'},{value:'"widget"'},{value:'"select"'},{value:'"geo"'},{value:'"date"'}]}},hasError:{defaultValue:null,description:"",name:"hasError",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},settings:{defaultValue:null,description:"",name:"settings",required:!0,type:{name:"TypeSchemeItemSettings"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}},onTest:{defaultValue:null,description:"",name:"onTest",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/input.tsx#input"]={docgenInfo:input.__docgenInfo,name:"input",path:"src/input.tsx#input"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FlatForm=function FlatForm(props){var scheme=props.scheme,value=props.value,onChange=props.onChange,Ui=useJsonFormUi(),_useState2=_slicedToArray((0,react.useState)([]),2),errors=_useState2[0],setErrors=_useState2[1],setError=(0,react.useCallback)((function(name,value){var error=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];error&&-1===errors.indexOf(name)&&setErrors([].concat(_toConsumableArray(errors),[name])),!error&&errors.indexOf(name)>-1&&setErrors(errors.filter((function(item){return item!=name})))}),[]),handleTestField=function handleTestField(name,value){var last_error=errors.indexOf(name)>-1,field=scheme.find((function(item){return item.name==name}));if(!field)throw new Error("Field not found: "+name);var _field$is_require=field.is_require,is_require=void 0!==_field$is_require&&_field$is_require,_field$type=field.type,type=void 0===_field$type?"text":_field$type,check_value=function check_value(_v){return Boolean(_v)};"files"==type&&(check_value=function check_value(_val){return Boolean(_val)&&(0,index_all.kJ)(_val)&&_val.length>0}),!is_require||"checkbox"===type||check_value(value)||last_error||setError(name,value,!0),is_require&&"checkbox"!==type&&check_value(value)&&last_error&&setError(name,value,!1)},handleChange=function handleChange(name,fieldValue){var _Object$assign,old_value=value;(old_value||(old_value={}),old_value[name]!==fieldValue)&&(onChange(Object.assign({},old_value,((_Object$assign={})[name]=fieldValue,_Object$assign))),handleTestField(name,fieldValue))};return(0,react.useEffect)((function(){var new_value={};scheme.forEach((function(scheme_item){var name=scheme_item.name,_scheme_item$type=scheme_item.type,type=void 0===_scheme_item$type?EnumSchemeItemType.Text:_scheme_item$type,def_value=function getDefValueForItem(item){var _item$def_value=item.def_value,def_value=void 0===_item$def_value?"":_item$def_value,_item$type=item.type,type=void 0===_item$type?EnumSchemeItemType.Text:_item$type,_item$settings=item.settings,settings=void 0===_item$settings?{}:_item$settings,_item$multiple=item.multiple;if(def_value)return def_value;if("checkbox"==type)return!1;if("files"==type)return[];if("widget"==type)return void 0!==_item$multiple&&_item$multiple?[]:{};if(type==EnumSchemeItemType.GeoCoordinates)return{address:"",lat:0,lng:0};if("select"==type){if(settings.multiple)return[];if(!settings.options||!settings.options.length)return 0}return def_value}(scheme_item);type===EnumSchemeItemType.Widget?value[name]||(new_value[name]=def_value):value[name]||"checkbox"===type||(new_value[name]=def_value)})),onChange(Object.assign({},value,new_value))}),[]),(0,jsx_runtime.jsx)(Ui.FlatFormContainer,{children:scheme.map((function(scheme_item,index){var title=scheme_item.title,name=scheme_item.name,_scheme_item$type2=scheme_item.type,type=void 0===_scheme_item$type2?EnumSchemeItemType.Widget:_scheme_item$type2,_scheme_item$settings=scheme_item.settings,settings=void 0===_scheme_item$settings?{}:_scheme_item$settings,field_settings={};if(type==EnumSchemeItemType.Widget){var _scheme=scheme_item.scheme,_scheme_item$multiple=scheme_item.multiple;field_settings={scheme:_scheme,multiple:void 0!==_scheme_item$multiple&&_scheme_item$multiple}}else type==EnumSchemeItemType.Select?field_settings=settings:type==EnumSchemeItemType.Files&&(field_settings={settings});return(0,jsx_runtime.jsx)(Ui.Field,{type,title,hasError:errors.indexOf(name)>-1,children:(0,jsx_runtime.jsx)(src_input,{name,value:value[name],type,title,hasError:errors.indexOf(name)>-1,settings:field_settings,onChange:function onChange(_v){return handleChange(name,_v)},onTest:function onTest(){var _v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT_SET";return handleTestField(name,"NOT_SET"===_v?value[name]:_v)}})},index)}))})};FlatForm.displayName="FlatForm";const src_FlatForm=FlatForm;try{FlatForm.displayName="FlatForm",FlatForm.__docgenInfo={description:"",displayName:"FlatForm",props:{scheme:{defaultValue:null,description:"",name:"scheme",required:!0,type:{name:"ISchemeItem[]"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TypeValueItem"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FlatForm.tsx#FlatForm"]={docgenInfo:FlatForm.__docgenInfo,name:"FlatForm",path:"src/FlatForm.tsx#FlatForm"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js");var _templateObject,_templateObject2,_templateObject3,Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),Add=__webpack_require__("./node_modules/grommet-icons/es6/icons/Add.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),core_esm=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),sortable_esm=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),utilities_esm=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),array_move=__webpack_require__("./node_modules/array-move/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),_excluded=["tabId"];function ArrayForm_toConsumableArray(arr){return function ArrayForm_arrayWithoutHoles(arr){if(Array.isArray(arr))return ArrayForm_arrayLikeToArray(arr)}(arr)||function ArrayForm_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ArrayForm_unsupportedIterableToArray(arr)||function ArrayForm_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ArrayForm_slicedToArray(arr,i){return function ArrayForm_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ArrayForm_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ArrayForm_unsupportedIterableToArray(arr,i)||function ArrayForm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ArrayForm_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ArrayForm_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ArrayForm_arrayLikeToArray(o,minLen):void 0}}function ArrayForm_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var StyledTab=(0,styled_components_browser_esm.default)(Box.x)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    ","\n"])),(function(_ref){var active=_ref.active,theme=_ref.theme;return(0,styled_components_browser_esm.css)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n        background-color: ",";\n\n        ","\n\n        user-select: none;\n    "])),theme.global.colors["light-4"],active&&"background-color: "+theme.global.colors["accent-4"]+";")})),TrashContainer=(0,styled_components_browser_esm.default)(Box.x)(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n    position: absolute;\n    z-index: 2;\n    top: -60px;\n    left: 0px;\n    width: 100%;\n"]))),SortableTab=function SortableTab(_ref2){var tabId=_ref2.tabId,props=_objectWithoutProperties(_ref2,_excluded),_useSortable=(0,sortable_esm.nB)({id:tabId}),attributes=_useSortable.attributes,listeners=_useSortable.listeners,setNodeRef=_useSortable.setNodeRef,transform=_useSortable.transform,transition=_useSortable.transition,style={transform:utilities_esm.ux.Transform.toString(transform),transition};return(0,jsx_runtime.jsx)(StyledTab,Object.assign({},props,{ref:setNodeRef,style},attributes,listeners))};SortableTab.displayName="SortableTab";var TrashDroppable=function TrashDroppable(){var _useDroppable=(0,core_esm.Zj)({id:"trash"}),isOver=_useDroppable.isOver,setNodeRef=_useDroppable.setNodeRef;return(0,jsx_runtime.jsx)(TrashContainer,{ref:setNodeRef,animation:{type:"fadeIn",duration:300},border:{color:"status-critical",size:"small",style:"dashed"},background:{color:isOver?"status-critical":"light-2"},pad:"xsmall",children:(0,jsx_runtime.jsx)(Text.x,{children:"Отпустите чтобы удалить"})})};TrashDroppable.displayName="TrashDroppable";var SortableList=function SortableList(_ref3){var tabs=_ref3.tabs,onSortEnd=_ref3.onSortEnd,children=_ref3.children,_useState2=ArrayForm_slicedToArray((0,react.useState)(null),2),activeId=_useState2[0],setActiveId=_useState2[1],sensors=(0,core_esm.Dy)((0,core_esm.VT)(core_esm.we,{activationConstraint:{distance:20}})),currentIndex=(0,react.useMemo)((function(){return tabs.findIndex((function(_i){return _i.id===activeId}))}),[tabs,activeId]),collisionDetectionStrategy=(0,react.useCallback)((function(args){var pointerIntersections=(0,core_esm.j2)(args),intersections=pointerIntersections.length>0?pointerIntersections:(0,core_esm.Xo)(args),overId=(0,core_esm._8)(intersections,"id");return"trash"===overId?intersections:(console.log("[collisionDetectionStrategy][Over: "+overId+"]",args),null!==overId?(0,core_esm.pE)(args):[])}),[activeId,tabs]);return(0,jsx_runtime.jsxs)(core_esm.LB,{sensors,collisionDetection:collisionDetectionStrategy,onDragEnd:function onDragEnd(event){console.log("[onDragEnd]",event),setActiveId(null),onSortEnd(event)},onDragStart:function onDragStart(event){setActiveId(event.active.id)},children:[(0,jsx_runtime.jsx)(sortable_esm.Fo,{id:"list",items:tabs,strategy:sortable_esm.PG,children}),(0,react_dom.createPortal)((0,jsx_runtime.jsx)(core_esm.y9,{children:currentIndex>-1?(0,jsx_runtime.jsx)(SortableTab,{tabId:activeId,children:(0,jsx_runtime.jsx)(Box.x,{pad:"xsmall",children:(0,jsx_runtime.jsxs)(Text.x,{children:["#",currentIndex+1]})})}):null}),document.body),null!==activeId&&(0,jsx_runtime.jsx)(TrashDroppable,{})]})};SortableList.displayName="SortableList";var WidgetItem=function WidgetItem(props){var id=props.id,value=props.value,scheme=props.scheme,onChange=props.onChange;(0,react.useEffect)((function(){id||console.error("WidgetItem: props id is required")}),[]);return(0,jsx_runtime.jsx)(src_FlatForm,{scheme,value,onChange:function handleChange(newValue){onChange(newValue,id)}})};WidgetItem.displayName="WidgetItem";var ArrayForm=function ArrayForm(props){var value=props.value,scheme=props.scheme,defValue=props.defValue,onChange=props.onChange,tabs=value,_useState4=ArrayForm_slicedToArray((0,react.useState)((function(){return(0,index_all.kJ)(value)&&value.length>0?value[0].id:1})),2),tab=_useState4[0],setTab=_useState4[1],handleChange=(0,react.useCallback)((function(newValue){var id=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,_newValue=value.map((function(item){return item.id==id?Object.assign({},item,newValue):item}));console.log("MultipleWidgetItem::handleChange",{id,item:newValue,oldValue:value,newValue:_newValue}),onChange(_newValue)}),[value,onChange]),currentItem=(0,react.useMemo)((function(){var item=value.find((function(_i){return _i.id===tab}));return item||null}),[value,tab]);return(0,jsx_runtime.jsxs)(Box.x,{direction:"column",style:{position:"relative",zIndex:1},children:[(0,jsx_runtime.jsxs)(Box.x,{direction:"row",children:[(0,jsx_runtime.jsx)(Box.x,{direction:"row",children:(0,jsx_runtime.jsx)(SortableList,{tabs,onSortEnd:function handleSortTabs(event){var active=event.active,over=event.over;if(active&&over&&active.id!==over.id){if("trash"===over.id)return void function handleRemoveTab(tab_id){var _value=value;if(_value.length>1&&window.confirm("Вы действительно хотите удалить?")){var new_value=_value.filter((function(tab){return tab.id!=tab_id}));onChange(new_value),tab==tab_id&&setTab(new_value[0].id)}}(active.id);var oldIndex=value.findIndex((function(_i){return _i.id===active.id})),newIndex=value.findIndex((function(_i){return _i.id===over.id}));onChange((0,array_move.q)(value,oldIndex,newIndex))}},children:tabs.map((function(val,index){return(0,jsx_runtime.jsx)(SortableTab,{tabId:val.id,hoverIndicator:!0,active:tab===val.id,onClick:function onClick(){return setTab(val.id)},children:(0,jsx_runtime.jsx)(Box.x,{pad:"xsmall",children:(0,jsx_runtime.jsxs)(Text.x,{children:["#",index+1]})})},val.id)}))})}),(0,jsx_runtime.jsx)(StyledTab,{hoverIndicator:!0,onClick:function handleAddTab(){var _value=value,def_value=Object.assign({},defValue,{id:Math.max.apply(Math,ArrayForm_toConsumableArray(_value.map((function(item){return item.id}))))+1}),newList=[].concat(ArrayForm_toConsumableArray(_value),[def_value]);onChange(newList),setTab(newList.length-1)},children:(0,jsx_runtime.jsx)(Box.x,{pad:"xsmall",children:(0,jsx_runtime.jsx)(Add.m,{})})})]}),null!==currentItem&&(0,jsx_runtime.jsx)(WidgetItem,{id:currentItem.id,scheme,value:currentItem,onChange:handleChange})]})};ArrayForm.displayName="ArrayForm";const src_ArrayForm=ArrayForm;try{ArrayForm.displayName="ArrayForm",ArrayForm.__docgenInfo={description:"",displayName:"ArrayForm",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TypeValueItem[]"}},defValue:{defaultValue:null,description:"",name:"defValue",required:!0,type:{name:"TypeValueItem"}},scheme:{defaultValue:null,description:"",name:"scheme",required:!0,type:{name:"ISchemeItem[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ArrayForm.tsx#ArrayForm"]={docgenInfo:ArrayForm.__docgenInfo,name:"ArrayForm",path:"src/ArrayForm.tsx#ArrayForm"})}catch(__react_docgen_typescript_loader_error){}var JsonForm=function JsonForm(props){var id=props.id,title=props.title,_props$header=props.header,header=void 0===_props$header?null:_props$header,_props$multiple=props.multiple,multiple=void 0!==_props$multiple&&_props$multiple,_props$primary=props.primary,primary=void 0===_props$primary||_props$primary,_props$scheme=props.scheme,scheme=void 0===_props$scheme?[]:_props$scheme,onChange=props.onChange,defValue=useDefSchemeValue(scheme),value=function useSafeValue(unsafeValue,defValue){var multiple=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,react.useMemo)((function(){return void 0===unsafeValue||multiple&&(!(0,index_all.kJ)(unsafeValue)||0==unsafeValue.length)?multiple?[Object.assign({},defValue,{id:1})]:Object.assign({},defValue):unsafeValue}),[unsafeValue,multiple,defValue])}(props.value,defValue,multiple),handleChange=(0,react.useCallback)((function(newValue){onChange(Object.assign({},value,newValue))}),[value,onChange]),Ui=useJsonFormUi();return(0,jsx_runtime.jsx)(Ui.Container,{children:(0,jsx_runtime.jsxs)(react_error_boundary_umd.ErrorBoundary,{FallbackComponent:components_ErrorFallback,onReset:function onReset(){},children:[(0,jsx_runtime.jsx)(Ui.Header,{id,primary,title,children:header}),(0,jsx_runtime.jsxs)(Ui.Body,{children:[multiple&&(0,jsx_runtime.jsx)(src_ArrayForm,{scheme,defValue,value,onChange}),!multiple&&(0,jsx_runtime.jsx)(src_FlatForm,{scheme,value,onChange:handleChange})]})]})})};JsonForm.displayName="JsonForm";const src_JsonForm=JsonForm;try{JsonForm.displayName="JsonForm",JsonForm.__docgenInfo={description:"",displayName:"JsonForm",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TypeValue"}},primary:{defaultValue:null,description:"",name:"primary",required:!1,type:{name:"boolean"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"FunctionOnChange"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!0,type:{name:"boolean"}},scheme:{defaultValue:null,description:"",name:"scheme",required:!0,type:{name:"ISchemeItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/JsonForm.tsx#JsonForm"]={docgenInfo:JsonForm.__docgenInfo,name:"JsonForm",path:"src/JsonForm.tsx#JsonForm"})}catch(__react_docgen_typescript_loader_error){}const defaults={title:"Мы лучшие в мирdddе!",subtitle:"Закажите сейчас и получите скидку 50%",button_text:"Купить",prices:[{id:1,price:5e3,title:"Simple plan",is_active:!1,list:[{id:1,title:"Lorem ipsum dolor"},{id:2,title:"Sit amet consectetur adipiscing"},{id:3,title:"Elit sed do eiusmod tempor"},{id:4,title:"Incididunt ut labore"},{id:5,title:"Et dolore magna aliqua incididunt"},{id:6,title:"Elit sed do eiusmod tempor"}]},{id:2,price:7e3,title:"Professional plan",is_active:!0,list:[{id:1,title:"Lorem ipsum dolor"},{id:2,title:"Sit amet consectetur adipiscing"},{id:3,title:"Elit sed do eiusmod tempor"},{id:4,title:"Incididunt ut labore"},{id:5,title:"Et dolore magna aliqua incididunt"},{id:6,title:"Elit sed do eiusmod tempor"}]},{id:3,price:12e3,title:"Enterprise plan",is_active:!1,list:[{id:1,title:"Lorem ipsum dolor"},{id:2,title:"Sit amet consectetur adipiscing"},{id:3,title:"Elit sed do eiusmod tempor"},{id:4,title:"Incididunt ut labore"},{id:5,title:"Et dolore magna aliqua incididunt"},{id:6,title:"Elit sed do eiusmod tempor"}]}]};var Heading=__webpack_require__("./node_modules/grommet/es6/components/Heading/Heading.js"),List=__webpack_require__("./node_modules/grommet/es6/components/List/List.js"),Paragraph=__webpack_require__("./node_modules/grommet/es6/components/Paragraph/Paragraph.js"),StatusGood=__webpack_require__("./node_modules/grommet-icons/es6/icons/StatusGood.js"),exampleButtonClick=function exampleButtonClick(){alert("click")},PriceItem=function PriceItem(_ref){var data=_ref.data,button_text=_ref.button_text,_ref$onButtonClick=_ref.onButtonClick,onButtonClick=void 0===_ref$onButtonClick?exampleButtonClick:_ref$onButtonClick,title=data.title,price=data.price,list=data.list,is_active=data.is_active,color=is_active?"accent-2":"light-1";return(0,jsx_runtime.jsxs)(Box.x,{pad:"medium",basis:"full",justify:"between",direction:"row",align:"center",alignContent:"center",hoverIndicator:{background:{color:"accent-1"}},background:{color,opacity:"strong"},round:"small",children:[(0,jsx_runtime.jsxs)(Box.x,{basis:"1/4",children:[(0,jsx_runtime.jsx)(Heading.X,{level:3,size:"small",margin:{top:"none",bottom:"small"},children:title}),(0,jsx_runtime.jsxs)(Text.x,{size:"xlarge",weight:"bolder",children:[price," ₽"]})]}),(0,jsx_runtime.jsx)(Box.x,{basis:"2/4",align:"center",alignContent:"center",children:(0,jsx_runtime.jsx)(List.a,{data:list,basis:"1/2",border:!1,pad:{vertical:"xxsmall"},style:{columns:2},children:function children(listItem){return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",children:[(0,jsx_runtime.jsx)(StatusGood.Y,{size:"medium",color:"brand"}),(0,jsx_runtime.jsx)(Text.x,{size:"small",margin:{left:"small"},children:listItem.title},listItem.id)]})}})}),(0,jsx_runtime.jsx)(Button.z,{size:"medium",primary:is_active,onClick:onButtonClick,label:button_text})]})};PriceItem.displayName="PriceItem";var Price2=function Price2(props){props.id;var _props$value=props.value,value=void 0===_props$value?defaults:_props$value,_value$title=(props.onButtonClick,value.title),title=void 0===_value$title?defaults.title:_value$title,_value$subtitle=value.subtitle,subtitle=void 0===_value$subtitle?defaults.subtitle:_value$subtitle,_value$button_text=value.button_text,button_text=void 0===_value$button_text?defaults.button_text:_value$button_text,_value$prices=value.prices,prices=void 0===_value$prices?defaults.prices:_value$prices;return(0,jsx_runtime.jsx)(Box.x,{background:{color:"light-3"},align:"center",children:(0,jsx_runtime.jsxs)(Box.x,{width:"xxlarge",children:[(0,jsx_runtime.jsxs)(Box.x,{width:"100%",pad:"medium",direction:"column",align:"center",children:[(0,jsx_runtime.jsx)(Box.x,{children:(0,jsx_runtime.jsx)(Heading.X,{level:2,children:title})}),(0,jsx_runtime.jsx)(Box.x,{children:(0,jsx_runtime.jsx)(Paragraph.n,{children:subtitle})})]}),prices.length>0&&(0,jsx_runtime.jsx)(Box.x,{direction:"column",pad:"small",background:"light-3",gap:"medium",basis:"full",children:prices.map((function(item,index){return(0,jsx_runtime.jsx)(PriceItem,{data:item,button_text},item.id)}))})]})})};Price2.displayName="Price2";try{view.displayName="view",view.__docgenInfo={description:"",displayName:"view",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IPrice2Value"}},onButtonClick:{defaultValue:{value:'() => {\r\n    alert("click")\r\n}'},description:"",name:"onButtonClick",required:!1,type:{name:"(MouseEventHandler<HTMLAnchorElement> & MouseEventHandler<HTMLButtonElement>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/Schemes/prices/view.tsx#view"]={docgenInfo:view.__docgenInfo,name:"view",path:"src/stories/Schemes/prices/view.tsx#view"})}catch(__react_docgen_typescript_loader_error){}var scheme={id:"Price2",scheme:[{name:"title",title:"Заголовок",type:EnumSchemeItemType.Text,def_value:defaults.title},{name:"subtitle",title:"Подзаголовок",type:EnumSchemeItemType.TextBlock,def_value:defaults.subtitle},{name:"prices",title:"Цены",type:EnumSchemeItemType.Widget,multiple:!0,def_value:defaults.prices,scheme:[{name:"title",title:"Заголовок",type:EnumSchemeItemType.Text,def_value:""},{name:"price",title:"Значение",type:EnumSchemeItemType.Text,def_value:""},{name:"is_active",title:"Активная?",type:EnumSchemeItemType.Checkbox,def_value:!1},{name:"list",title:"Пункты",type:EnumSchemeItemType.Widget,multiple:!0,def_value:[],scheme:[{name:"title",title:"Заголовок",type:EnumSchemeItemType.Text,def_value:""}]}]}],single:!0,multiple:!1,title:"Прайсы 2",name:"Price2"};var grommet_templateObject,main=__webpack_require__("./node_modules/react-json-view/dist/main.js"),main_default=__webpack_require__.n(main),Tag=__webpack_require__("./node_modules/grommet/es6/components/Tag/Tag.js"),FormField=__webpack_require__("./node_modules/grommet/es6/components/FormField/FormField.js"),DateInput=__webpack_require__("./node_modules/grommet/es6/components/DateInput/DateInput.js"),CheckBox=__webpack_require__("./node_modules/grommet/es6/components/CheckBox/CheckBox.js"),TextArea=__webpack_require__("./node_modules/grommet/es6/components/TextArea/TextArea.js"),TextInput=__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js"),react_select_esm=__webpack_require__("./node_modules/react-select/dist/react-select.esm.js");var UiContainer=(0,styled_components_browser_esm.default)(Box.x)(grommet_templateObject||(grommet_templateObject=function grommet_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}([""]))),UiBody=function UiBody(_ref){var children=_ref.children;return(0,jsx_runtime.jsx)(Box.x,{pad:"small",children})};UiBody.displayName="UiBody";var UiHeader=function UiHeader(props){var id=props.id,title=props.title,primary=props.primary,children=props.children;return(0,jsx_runtime.jsxs)(Box.x,{width:"100%",direction:"row",pad:"small",justify:"between",background:primary?"brand":"light-6",children:[(0,jsx_runtime.jsxs)(Box.x,{direction:"row",justify:"start",gap:"small",children:[Boolean(title)&&(0,jsx_runtime.jsx)(Heading.X,{level:primary?3:4,margin:"none",children:title}),Boolean(id)&&(0,jsx_runtime.jsx)(Tag.V,{value:"#"+id})]}),children]})};UiHeader.displayName="UiHeader";var UiFlatFormContainer=function UiFlatFormContainer(_ref2){var children=_ref2.children;return(0,jsx_runtime.jsx)(Box.x,{pad:"xxsmall",children})};UiFlatFormContainer.displayName="UiFlatFormContainer";var UiField=function UiField(props){var title=props.title,type=props.type,hasError=props.hasError,children=props.children;return(0,react.useMemo)((function(){return type!==EnumSchemeItemType.Checkbox&&type!==EnumSchemeItemType.Widget}),[type])?(0,jsx_runtime.jsx)(FormField.W,{error:hasError?"Error":void 0,label:title,children}):(0,jsx_runtime.jsx)(Box.x,{pad:"xsmall",children})};UiField.displayName="UiField";var ControlSelect=function ControlSelect(props){var name=props.name,value=props.value,_props$settings=props.settings,settings=void 0===_props$settings?{}:_props$settings,_onChange=props.onChange,onTest=props.onTest,list=(0,index_all.kJ)(value)?value:[];return(0,jsx_runtime.jsx)(react_select_esm.ZP,{isMulti:!!settings.multiple,name,value:settings.multiple?list.map((function(_val){var _settings$options$fin;return{label:(null===(_settings$options$fin=settings.options.find((function(_i){return _i.value==_val})))||void 0===_settings$options$fin?void 0:_settings$options$fin.label)||"(Not found)",value:_val}})):value,options:settings.options,onBlur:function onBlur(){return onTest},onChange:function onChange(_value){if(settings.multiple){var _list=(0,index_all.kJ)(_value)?_value:[];_onChange(_list.map((function(_val){return _val.value})))}else _onChange(_value)}})};ControlSelect.displayName="ControlSelect";var ControlDate=function ControlDate(props){var value=props.value,_onChange2=props.onChange;return(0,jsx_runtime.jsx)(DateInput.W,{format:"dd.mm.yyyy",value:value||void 0,onChange:function onChange(_ref3){var value=_ref3.value;return _onChange2(value)}})};ControlDate.displayName="ControlDate";var ControlCheckBox=function ControlCheckBox(props){var name=props.name,value=props.value,title=props.title,_onChange3=props.onChange,onTest=props.onTest;return(0,jsx_runtime.jsx)(CheckBox.J,{checked:Boolean(value),name,label:title,onChange:function onChange(event){return _onChange3(event.target.checked)},onMouseLeave:function onMouseLeave(e){return onTest(e.currentTarget.checked)}})};ControlCheckBox.displayName="ControlCheckBox";var ControlTextBlock=function ControlTextBlock(props){var name=props.name,value=props.value,_props$settings2=props.settings,settings=void 0===_props$settings2?{}:_props$settings2,_onChange4=props.onChange,onTest=props.onTest;return(0,jsx_runtime.jsx)(TextArea.K,Object.assign({value,name},settings,{onBlur:function onBlur(e){return onTest(e.currentTarget.value)},onChange:function onChange(event){return _onChange4(event.currentTarget.value)}}))};ControlTextBlock.displayName="ControlTextBlock";var ControlInput=function ControlInput(props){var name=props.name,value=props.value,type=props.type,_onChange5=props.onChange,onTest=props.onTest;return(0,jsx_runtime.jsx)(TextInput.o,{placeholder:name,name,type:type||"text",value,onChange:function onChange(e){return _onChange5(e.currentTarget.value)},onBlur:function onBlur(e){return onTest(e.currentTarget.value)}})};ControlInput.displayName="ControlInput";const grommet={Container:UiContainer,Header:UiHeader,Body:UiBody,FlatFormContainer:UiFlatFormContainer,Field:UiField,Controls:{Input:ControlInput,TextBlock:ControlTextBlock,CheckBox:ControlCheckBox,Date:ControlDate,Select:ControlSelect}};function JsonForm_stories_slicedToArray(arr,i){return function JsonForm_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function JsonForm_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function JsonForm_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return JsonForm_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JsonForm_stories_arrayLikeToArray(o,minLen)}(arr,i)||function JsonForm_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JsonForm_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const JsonForm_stories={title:"Example/JsonForm",component:src_JsonForm,argTypes:{backgroundColor:{control:"color"}}};var Example=function Template(args){var _useState2=JsonForm_stories_slicedToArray((0,react.useState)({}),2),value=_useState2[0],setValue=_useState2[1];return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(Box.x,{direction:"row",children:[(0,jsx_runtime.jsx)(Box.x,{width:"33.3333%",children:(0,jsx_runtime.jsx)(main_default(),{src:scheme,displayObjectSize:!1})}),(0,jsx_runtime.jsx)(Box.x,{width:"33.3333%",children:(0,jsx_runtime.jsx)(src_UiContext.Provider,{value:grommet,children:(0,jsx_runtime.jsx)(src_JsonForm,Object.assign({},args,scheme,{value,onChange:setValue}))})}),(0,jsx_runtime.jsx)(Box.x,{width:"33.3333%",children:(0,jsx_runtime.jsx)(main_default(),{src:value,displayObjectSize:!1})})]})})}.bind({});Example.args={},Example.parameters=Object.assign({storySource:{source:'(args) => {\n    const [value, setValue] = useState({})\n\n    return (\n        <>\n            <Box direction="row">\n                <Box width={"33.3333%"}>\n                    <ReactJson src={scheme} displayObjectSize={false} />\n                </Box>\n                <Box width={"33.3333%"}>\n                    <UiContext.Provider value={GrommetUi}>\n                        <JsonForm\n                            {...args}\n                            {...scheme}\n                            value={value}\n                            onChange={setValue}\n                        />\n                    </UiContext.Provider>\n                </Box>\n                <Box width={"33.3333%"}>\n                    <ReactJson src={value} displayObjectSize={false} />\n                </Box>\n            </Box>\n        </>\n    )\n}'}},Example.parameters);var __namedExportsOrder=["Example"]},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./stories/JsonForm.stories.tsx":"./src/stories/JsonForm.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[316],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);